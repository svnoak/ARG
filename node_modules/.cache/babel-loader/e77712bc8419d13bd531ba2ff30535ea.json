{"ast":null,"code":"import _slicedToArray from\"/home/kim/Documents/Programming/ARG/CLIENT/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Locations=function Locations(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),viewer=_useState6[0],setViewer=_useState6[1];var loggedinUser=JSON.parse(localStorage.getItem(\"arg_user\"))[\"id\"];if(data.length===0){getSomeData();}function getSomeData(){var request=new Request(\"https://dev.svnoak.net/api/inventory/place/\"+loggedinUser);fetch(request).then(function(response){return response.json();}).then(function(data){// I don't get it done with two conditions in one for some fucking reason.\n/*         const filter1 = data.filter(d => d.id != \"8\");\n        const filter2 = filter1.filter(d => d.id != \"7\"); */setData(data);});}function buttonClick(propid){var item=getItem(propid);setViewer(item);setShow(true);}function getItem(id){return data.find(function(item){return item.id==id;});}return/*#__PURE__*/_jsxs(\"div\",{className:\"pageWrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"back-arrow\",children:/*#__PURE__*/_jsx(Link,{to:\"/anteckningar\",children:/*#__PURE__*/_jsx(\"i\",{className:\"zmdi zmdi-arrow-left zmdi-hc-2x\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"buttonWrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"buttongrid\",children:data.map(function(prop){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){buttonClick(prop.id);},className:\"buttons\",children:/*#__PURE__*/_jsx(\"img\",{className:\"thumbnail\",alt:\"Thumbnail på \"+prop.name,src:\"https://dev.svnoak.net/assets/images/\"+prop.imageLink})},prop.id);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"viewpanel\",children:show?/*#__PURE__*/_jsx(\"img\",{alt:\"Bild p\\xE5 plats\",visi:true,src:\"https://dev.svnoak.net/assets/images/\"+viewer.imageLink}):null}),show&&/*#__PURE__*/_jsx(\"ul\",{className:\"textPanel\",children:viewer.infoText.split(\",\").map(function(e){return/*#__PURE__*/_jsx(\"li\",{children:e});})})]});};export default Locations;","map":{"version":3,"names":["React","useState","Link","Locations","data","setData","show","setShow","viewer","setViewer","loggedinUser","JSON","parse","localStorage","getItem","length","getSomeData","request","Request","fetch","then","response","json","buttonClick","propid","item","id","find","map","prop","name","imageLink","infoText","split","e"],"sources":["/home/kim/Documents/Programming/ARG/CLIENT/src/locations.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Locations = () => {\n  const [data, setData] = useState([]);\n  const [show, setShow] = useState(false);\n  const [viewer, setViewer] = useState([]);\n  let loggedinUser = JSON.parse(localStorage.getItem(\"arg_user\"))[\"id\"];\n\n  if (data.length === 0) {\n    getSomeData();\n  }\n  function getSomeData() {\n    const request = new Request(\n      \"https://dev.svnoak.net/api/inventory/place/\" + loggedinUser\n    );\n    fetch(request)\n      .then((response) => response.json())\n      .then((data) => {\n        // I don't get it done with two conditions in one for some fucking reason.\n/*         const filter1 = data.filter(d => d.id != \"8\");\n        const filter2 = filter1.filter(d => d.id != \"7\"); */\n        setData(data);\n      });\n  }\n\n  function buttonClick(propid) {\n    const item = getItem(propid);\n    setViewer(item);\n    setShow(true);\n  }\n\n  function getItem(id){\n    return data.find( item => item.id == id );\n  }\n\n  return (\n    <div className=\"pageWrapper\">\n      <div className=\"back-arrow\"><Link to=\"/anteckningar\"><i className=\"zmdi zmdi-arrow-left zmdi-hc-2x\"></i></Link></div>\n      <div className=\"buttonWrapper\">\n        <div className=\"buttongrid\">\n          {data.map(function (prop) {\n            return (\n              <div\n                key={prop.id}\n                onClick={() => {\n                  buttonClick(prop.id);\n                }}\n                className=\"buttons\"\n              >\n                <img className=\"thumbnail\" alt={\"Thumbnail på \" + prop.name}  src={\"https://dev.svnoak.net/assets/images/\" + prop.imageLink}/>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n      <div className=\"viewpanel\">\n          {show ? (\n            <img alt=\"Bild på plats\"\n              visi\n              src={\"https://dev.svnoak.net/assets/images/\" + viewer.imageLink}\n            />\n          ) : null}\n        </div>\n        {show && <ul className=\"textPanel\">{ viewer.infoText.split(\",\").map(e => <li>{e}</li>) }</ul> }\n    </div>\n  );\n};\n\nexport default Locations;\n"],"mappings":"gIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,cAAwBF,QAAQ,CAAC,EAAD,CAAhC,wCAAOG,IAAP,eAAaC,OAAb,eACA,eAAwBJ,QAAQ,CAAC,KAAD,CAAhC,yCAAOK,IAAP,eAAaC,OAAb,eACA,eAA4BN,QAAQ,CAAC,EAAD,CAApC,yCAAOO,MAAP,eAAeC,SAAf,eACA,GAAIC,CAAAA,YAAY,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,EAA6C,IAA7C,CAAnB,CAEA,GAAIV,IAAI,CAACW,MAAL,GAAgB,CAApB,CAAuB,CACrBC,WAAW,GACZ,CACD,QAASA,CAAAA,WAAT,EAAuB,CACrB,GAAMC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,OAAJ,CACd,8CAAgDR,YADlC,CAAhB,CAGAS,KAAK,CAACF,OAAD,CAAL,CACGG,IADH,CACQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAAChB,IAAD,CAAU,CACd;AACR;AACA,4DACQC,OAAO,CAACD,IAAD,CAAP,CACD,CAPH,EAQD,CAED,QAASmB,CAAAA,WAAT,CAAqBC,MAArB,CAA6B,CAC3B,GAAMC,CAAAA,IAAI,CAAGX,OAAO,CAACU,MAAD,CAApB,CACAf,SAAS,CAACgB,IAAD,CAAT,CACAlB,OAAO,CAAC,IAAD,CAAP,CACD,CAED,QAASO,CAAAA,OAAT,CAAiBY,EAAjB,CAAoB,CAClB,MAAOtB,CAAAA,IAAI,CAACuB,IAAL,CAAW,SAAAF,IAAI,QAAIA,CAAAA,IAAI,CAACC,EAAL,EAAWA,EAAf,EAAf,CAAP,CACD,CAED,mBACE,aAAK,SAAS,CAAC,aAAf,wBACE,YAAK,SAAS,CAAC,YAAf,uBAA4B,KAAC,IAAD,EAAM,EAAE,CAAC,eAAT,uBAAyB,UAAG,SAAS,CAAC,iCAAb,EAAzB,EAA5B,EADF,cAEE,YAAK,SAAS,CAAC,eAAf,uBACE,YAAK,SAAS,CAAC,YAAf,UACGtB,IAAI,CAACwB,GAAL,CAAS,SAAUC,IAAV,CAAgB,CACxB,mBACE,YAEE,OAAO,CAAE,kBAAM,CACbN,WAAW,CAACM,IAAI,CAACH,EAAN,CAAX,CACD,CAJH,CAKE,SAAS,CAAC,SALZ,uBAOE,YAAK,SAAS,CAAC,WAAf,CAA2B,GAAG,CAAE,gBAAkBG,IAAI,CAACC,IAAvD,CAA8D,GAAG,CAAE,wCAA0CD,IAAI,CAACE,SAAlH,EAPF,EACOF,IAAI,CAACH,EADZ,CADF,CAWD,CAZA,CADH,EADF,EAFF,cAmBE,YAAK,SAAS,CAAC,WAAf,UACKpB,IAAI,cACH,YAAK,GAAG,CAAC,kBAAT,CACE,IAAI,KADN,CAEE,GAAG,CAAE,wCAA0CE,MAAM,CAACuB,SAFxD,EADG,CAKD,IANR,EAnBF,CA2BKzB,IAAI,eAAI,WAAI,SAAS,CAAC,WAAd,UAA4BE,MAAM,CAACwB,QAAP,CAAgBC,KAAhB,CAAsB,GAAtB,EAA2BL,GAA3B,CAA+B,SAAAM,CAAC,qBAAI,oBAAKA,CAAL,EAAJ,EAAhC,CAA5B,EA3Bb,GADF,CA+BD,CAhED,CAkEA,cAAe/B,CAAAA,SAAf"},"metadata":{},"sourceType":"module"}