{"ast":null,"code":"import _slicedToArray from\"/home/kim/Documents/Programming/ARG/CLIENT/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Inventory=function Inventory(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),viewer=_useState6[0],setViewer=_useState6[1];var loggedinUser=JSON.parse(localStorage.getItem(\"arg_user\"))[\"id\"];if(data.length===0){getSomeData();}function getSomeData(){var request=new Request(\"https://dev.svnoak.net/api/inventory/item/\"+loggedinUser);fetch(request).then(function(response){return response.json();}).then(function(data){setData(data);});}function buttonClick(propid){var item=getItem(propid);setViewer(item);setShow(true);}function getItem(id){return data.find(function(item){return item.id==id;});}return/*#__PURE__*/_jsxs(\"div\",{className:\"pageWrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"back-arrow\",children:/*#__PURE__*/_jsx(Link,{to:\"/anteckningar\",children:/*#__PURE__*/_jsx(\"i\",{className:\"zmdi zmdi-arrow-left zmdi-hc-2x\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"buttonWrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"buttongrid\",children:data.map(function(prop){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){buttonClick(prop.id);},className:\"buttons\",children:/*#__PURE__*/_jsx(\"img\",{className:\"thumbnail\",alt:\"Thumbnail på \"+prop.name,src:\"https://dev.svnoak.net/assets/images/\"+prop.imageLink})},prop.id);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"viewpanel\",children:[show&&/*#__PURE__*/_jsx(\"img\",{alt:\"Bild på \"+viewer.name,src:\"https://dev.svnoak.net/assets/images/\"+viewer.imageLink}),viewer.type==\"image\"&&viewer.infoText&&/*#__PURE__*/_jsx(\"img\",{alt:\"Bild på \"+viewer.name,src:\"https://dev.svnoak.net/assets/images/\"+viewer.infoText})]}),viewer.type==\"text\"&&/*#__PURE__*/_jsx(\"div\",{className:\"textPanel\",children:viewer.infoText})]});};export default Inventory;","map":{"version":3,"names":["React","useState","Link","Inventory","data","setData","show","setShow","viewer","setViewer","loggedinUser","JSON","parse","localStorage","getItem","length","getSomeData","request","Request","fetch","then","response","json","buttonClick","propid","item","id","find","map","prop","name","imageLink","type","infoText"],"sources":["/home/kim/Documents/Programming/ARG/CLIENT/src/inventory.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Inventory = () => {\n  const [data, setData] = useState([]);\n  const [show, setShow] = useState(false);\n  const [viewer, setViewer] = useState([]);\n  let loggedinUser = JSON.parse(localStorage.getItem(\"arg_user\"))[\"id\"];\n\n  if (data.length === 0) {\n    getSomeData();\n  }\n  function getSomeData() {\n    const request = new Request(\n      \"https://dev.svnoak.net/api/inventory/item/\" + loggedinUser\n    );\n    fetch(request)\n      .then((response) => response.json())\n      .then((data) => {\n        setData(data);\n      });\n  }\n\n  function buttonClick(propid) {\n    const item = getItem(propid);\n    setViewer(item);\n    setShow(true);\n  }\n\n  function getItem(id){\n    return data.find( item => item.id == id );\n  }\n\n  return (\n    <div className=\"pageWrapper\">\n      <div className=\"back-arrow\"><Link to=\"/anteckningar\"><i className=\"zmdi zmdi-arrow-left zmdi-hc-2x\"></i></Link></div>\n      <div className=\"buttonWrapper\">\n        <div className=\"buttongrid\">\n          {data.map(function (prop) {\n            return (\n              <div\n                key={prop.id}\n                onClick={() => {\n                  buttonClick(prop.id);\n                }}\n                className=\"buttons\"\n              >\n                <img className=\"thumbnail\" alt={\"Thumbnail på \" + prop.name}  src={\"https://dev.svnoak.net/assets/images/\" + prop.imageLink}/>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n      <div className=\"viewpanel\">\n          {show && (\n            <img alt={\"Bild på \" + viewer.name}\n              src={\"https://dev.svnoak.net/assets/images/\" + viewer.imageLink}\n            />\n          )}\n          {viewer.type == \"image\" && viewer.infoText && <img alt={\"Bild på \" + viewer.name} src={\"https://dev.svnoak.net/assets/images/\" + viewer.infoText}/> }\n        </div>\n        {viewer.type == \"text\" && <div className=\"textPanel\">{viewer.infoText}</div> }\n    </div>\n  );\n};\n\nexport default Inventory;\n"],"mappings":"gIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,cAAwBF,QAAQ,CAAC,EAAD,CAAhC,wCAAOG,IAAP,eAAaC,OAAb,eACA,eAAwBJ,QAAQ,CAAC,KAAD,CAAhC,yCAAOK,IAAP,eAAaC,OAAb,eACA,eAA4BN,QAAQ,CAAC,EAAD,CAApC,yCAAOO,MAAP,eAAeC,SAAf,eACA,GAAIC,CAAAA,YAAY,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,EAA6C,IAA7C,CAAnB,CAEA,GAAIV,IAAI,CAACW,MAAL,GAAgB,CAApB,CAAuB,CACrBC,WAAW,GACZ,CACD,QAASA,CAAAA,WAAT,EAAuB,CACrB,GAAMC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,OAAJ,CACd,6CAA+CR,YADjC,CAAhB,CAGAS,KAAK,CAACF,OAAD,CAAL,CACGG,IADH,CACQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAAChB,IAAD,CAAU,CACdC,OAAO,CAACD,IAAD,CAAP,CACD,CAJH,EAKD,CAED,QAASmB,CAAAA,WAAT,CAAqBC,MAArB,CAA6B,CAC3B,GAAMC,CAAAA,IAAI,CAAGX,OAAO,CAACU,MAAD,CAApB,CACAf,SAAS,CAACgB,IAAD,CAAT,CACAlB,OAAO,CAAC,IAAD,CAAP,CACD,CAED,QAASO,CAAAA,OAAT,CAAiBY,EAAjB,CAAoB,CAClB,MAAOtB,CAAAA,IAAI,CAACuB,IAAL,CAAW,SAAAF,IAAI,QAAIA,CAAAA,IAAI,CAACC,EAAL,EAAWA,EAAf,EAAf,CAAP,CACD,CAED,mBACE,aAAK,SAAS,CAAC,aAAf,wBACE,YAAK,SAAS,CAAC,YAAf,uBAA4B,KAAC,IAAD,EAAM,EAAE,CAAC,eAAT,uBAAyB,UAAG,SAAS,CAAC,iCAAb,EAAzB,EAA5B,EADF,cAEE,YAAK,SAAS,CAAC,eAAf,uBACE,YAAK,SAAS,CAAC,YAAf,UACGtB,IAAI,CAACwB,GAAL,CAAS,SAAUC,IAAV,CAAgB,CACxB,mBACE,YAEE,OAAO,CAAE,kBAAM,CACbN,WAAW,CAACM,IAAI,CAACH,EAAN,CAAX,CACD,CAJH,CAKE,SAAS,CAAC,SALZ,uBAOE,YAAK,SAAS,CAAC,WAAf,CAA2B,GAAG,CAAE,gBAAkBG,IAAI,CAACC,IAAvD,CAA8D,GAAG,CAAE,wCAA0CD,IAAI,CAACE,SAAlH,EAPF,EACOF,IAAI,CAACH,EADZ,CADF,CAWD,CAZA,CADH,EADF,EAFF,cAmBE,aAAK,SAAS,CAAC,WAAf,WACKpB,IAAI,eACH,YAAK,GAAG,CAAE,WAAaE,MAAM,CAACsB,IAA9B,CACE,GAAG,CAAE,wCAA0CtB,MAAM,CAACuB,SADxD,EAFN,CAMKvB,MAAM,CAACwB,IAAP,EAAe,OAAf,EAA0BxB,MAAM,CAACyB,QAAjC,eAA6C,YAAK,GAAG,CAAE,WAAazB,MAAM,CAACsB,IAA9B,CAAoC,GAAG,CAAE,wCAA0CtB,MAAM,CAACyB,QAA1F,EANlD,GAnBF,CA2BKzB,MAAM,CAACwB,IAAP,EAAe,MAAf,eAAyB,YAAK,SAAS,CAAC,WAAf,UAA4BxB,MAAM,CAACyB,QAAnC,EA3B9B,GADF,CA+BD,CA7DD,CA+DA,cAAe9B,CAAAA,SAAf"},"metadata":{},"sourceType":"module"}