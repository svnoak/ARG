{"ast":null,"code":"import _asyncToGenerator from\"/home/kim/Documents/Programming/ARG/CLIENT/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/kim/Documents/Programming/ARG/CLIENT/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/kim/Documents/Programming/ARG/CLIENT/node_modules/@babel/runtime/regenerator/index.js\";import{React,useState}from\"react\";import\"./assets/css/login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),fail=_useState2[0],setFail=_useState2[1];function checkLogin(){return _checkLogin.apply(this,arguments);}function _checkLogin(){_checkLogin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var request,data,response,responseData,userData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:request=new Request(\"https://dev.svnoak.net/api/user/login/\");data={username:document.querySelector(\"#loginUsername\").value,password:document.querySelector(\"#loginCode\").value};_context.next=4;return fetch(request,{method:'POST',headers:{'Accept':'application/json, text/plain, */*','Content-Type':'application/json'},body:JSON.stringify(data)});case 4:response=_context.sent;if(!(response.status===200)){_context.next=13;break;}_context.next=8;return response.json();case 8:responseData=_context.sent;userData={username:responseData.name,id:responseData.id};props.loginHandler(userData);_context.next=14;break;case 13:setFail(true);case 14:case\"end\":return _context.stop();}}},_callee);}));return _checkLogin.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"title\",children:\"V.A.R.G\"}),fail&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:\"Fel anv\\xE4ndarnamn eller kod\"}),/*#__PURE__*/_jsx(\"input\",{id:\"loginUsername\",placeholder:\"Anv\\xE4ndarnamn\"}),/*#__PURE__*/_jsx(\"input\",{id:\"loginCode\",placeholder:\"Tillg\\xE5ngskod\",type:\"number\",pattern:\"[0-9]*\",inputMode:\"numeric\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return checkLogin();},children:\"Logga in\"})]});}export default Login;","map":{"version":3,"names":["React","useState","Login","props","fail","setFail","checkLogin","request","Request","data","username","document","querySelector","value","password","fetch","method","headers","body","JSON","stringify","response","status","json","responseData","userData","name","id","loginHandler"],"sources":["/home/kim/Documents/Programming/ARG/CLIENT/src/Login.js"],"sourcesContent":["import { React, useState } from \"react\";\nimport \"./assets/css/login.css\"\n\nfunction Login(props) {\n    \n    const [fail, setFail] = useState(false);\n\n    async function checkLogin(){\n        const request = new Request(`https://dev.svnoak.net/api/user/login/`);\n        const data = {\n            username: document.querySelector(\"#loginUsername\").value,\n            password: document.querySelector(\"#loginCode\").value\n        }\n    \n        const response = await fetch(request ,{\n                method: 'POST',\n                headers: {\n                'Accept': 'application/json, text/plain, */*',\n                'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data)\n            })\n        \n        if( response.status === 200 ){\n            const responseData = await response.json();\n            const userData = {\n                username: responseData.name,\n                id: responseData.id\n            }\n            props.loginHandler(userData);\n        } else {\n            setFail(true);\n        }\n        }\n\n    return(\n        <div className=\"login-form\">\n            <span className=\"title\">V.A.R.G</span>\n            { fail && <div className=\"error\">Fel användarnamn eller kod</div> }\n            <input id=\"loginUsername\" placeholder=\"Användarnamn\"></input>\n            <input id=\"loginCode\" placeholder=\"Tillgångskod\" type=\"number\" pattern=\"[0-9]*\" inputMode=\"numeric\"></input>\n            <button onClick={ () => checkLogin() }>Logga in</button>\n        </div>\n    )\n}\n\nexport default Login;"],"mappings":"mYAAA,OAASA,KAAT,CAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,wBAAP,C,wFAEA,QAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsB,CAElB,cAAwBF,QAAQ,CAAC,KAAD,CAAhC,wCAAOG,IAAP,eAAaC,OAAb,eAFkB,QAIHC,CAAAA,UAJG,wIAIlB,mLACUC,OADV,CACoB,GAAIC,CAAAA,OAAJ,0CADpB,CAEUC,IAFV,CAEiB,CACTC,QAAQ,CAAEC,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCC,KAD1C,CAETC,QAAQ,CAAEH,QAAQ,CAACC,aAAT,CAAuB,YAAvB,EAAqCC,KAFtC,CAFjB,uBAO2BE,CAAAA,KAAK,CAACR,OAAD,CAAU,CAC9BS,MAAM,CAAE,MADsB,CAE9BC,OAAO,CAAE,CACT,SAAU,mCADD,CAET,eAAgB,kBAFP,CAFqB,CAM9BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeX,IAAf,CANwB,CAAV,CAPhC,QAOUY,QAPV,oBAgBQA,QAAQ,CAACC,MAAT,GAAoB,GAhB5B,iDAiBmCD,CAAAA,QAAQ,CAACE,IAAT,EAjBnC,QAiBcC,YAjBd,eAkBcC,QAlBd,CAkByB,CACbf,QAAQ,CAAEc,YAAY,CAACE,IADV,CAEbC,EAAE,CAAEH,YAAY,CAACG,EAFJ,CAlBzB,CAsBQxB,KAAK,CAACyB,YAAN,CAAmBH,QAAnB,EAtBR,+BAwBQpB,OAAO,CAAC,IAAD,CAAP,CAxBR,uDAJkB,6CAgClB,mBACI,aAAK,SAAS,CAAC,YAAf,wBACI,aAAM,SAAS,CAAC,OAAhB,qBADJ,CAEMD,IAAI,eAAI,YAAK,SAAS,CAAC,OAAf,2CAFd,cAGI,cAAO,EAAE,CAAC,eAAV,CAA0B,WAAW,CAAC,iBAAtC,EAHJ,cAII,cAAO,EAAE,CAAC,WAAV,CAAsB,WAAW,CAAC,iBAAlC,CAAiD,IAAI,CAAC,QAAtD,CAA+D,OAAO,CAAC,QAAvE,CAAgF,SAAS,CAAC,SAA1F,EAJJ,cAKI,eAAQ,OAAO,CAAG,yBAAME,CAAAA,UAAU,EAAhB,EAAlB,sBALJ,GADJ,CASH,CAED,cAAeJ,CAAAA,KAAf"},"metadata":{},"sourceType":"module"}